\documentclass[12pt]{article}
\pdfpagewidth 8.5in
\pdfpageheight 11.0in
\usepackage{fullpage}
\usepackage{url}
\usepackage{graphicx}
\usepackage{subfigure}
\usepackage{booktabs}
\usepackage{multirow}
\usepackage{rotating}
\usepackage{float}
\usepackage{acronym}
\usepackage{setspace}
\usepackage{amsmath}
\usepackage[hypcap]{caption}
\onehalfspacing
\usepackage{pdfpages}
\usepackage{tabularx}
\usepackage{bigstrut}
\usepackage{epstopdf}
\usepackage{hyperref}
\usepackage{caption}
\usepackage{subcaption}


\title{Deformable Mirror Demonstration}
\author{Kristin Berry\\
Ashley K. Carlton\\
Zachary J. Casas\\
James R. Clark\\
Vladimir Eremin\\ 
Zaira G. Garate\\ 
Julian Lemus\\
Immanuel David Madukauwa-David\\
Tam Nguyen T. Nguyen\\
Paul Salcido\\
Alexandra E. Wassenberg 
}

\date{\today}

\begin{document}
\maketitle
\newpage

\tableofcontents
\listoffigures
\listoftables


\section*{List of Acronyms}
\begin{acronym}

\acro{COTS}{Commercial off the shelf}
\acro{DeMi}{Deformable Mirror Demonstration}
\acro{DM}{Deformable Mirror}
\acro{FOV}{Field of View}
\acro{PSF}{Point Spread Function}

\end{acronym}
\newpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Introduction - AW}
Deformable mirror wavefront control systems, which correct for aberrations in the wavefront to produce high contrast images, have been utilized for observation from ground telescopes but have yet to be implemented on spacecraft.  A proposed CubeSat Deformable Mirror (DeMi) demonstration will begin the process of testing adaptive optics technology in space for future use on space telescopes in conjunction with a coronograph for direct imaging of exoplanets and potentially free-space laser communication systems.

\subsection{Mission Statement}
The mission of the Deformable Mirror Demonstration is to provide a low-cost, quick-access platform on which to demonstrate microelectromechanical (MEMS) wavefront control deformable mirror imaging technology on-orbit.

\begin{figure}[!ht]
\centering
\includegraphics[width=3in]{images/introduction_1.png}
\caption{Boston Micromechanics MEMS Deformable Mirror}
\label{fig:Intro_demi}
\end{figure}
\subsection{Motivation}
The driving force behind the DeMi mission is the desire to directly image Earth-like exoplanets in the search for signs of life, requiring imaging technology that can produce high contrast and dynamic range images.  However, current high-performance space telescope technology suffers from wavefront aberrations, such as speckles which can result from diffraction, noise, phase errors, and thermal drift and reduce the achievable image contrast.   

A solution to this problem is to implement adaptable wavefront control imaging technology in the form of a deformable mirror.  In the deformable mirror system, a wavefront sensor measures wavefront aberrations in an approaching wavefront, an adaptive optics computer calculates the errors in the wavefront reflecting off of the deformable mirror surface by subtracting the wavefront from a reference wavefront, and then electrostatic actuators in an array beneath the membrane surface of the mirror individually deform the surface to correct the wavefront.   

\begin{figure}[!ht]
\centering
\includegraphics[width=4in]{images/introduction_2.png}
\caption{Comparison of the effects of a flat and deformable mirror on an aberrated wavefront}
\label{fig:Intro_wavefront}
\end{figure}

Adaptive optics technology is currently being used in conjunction with coronographs in ground telescopes to correct for distortions in the Earth’s atmosphere and to resolve light from nearby objects.  An example is seen in the image below of three exoplanets imaged using the Palomar Observatory’s Hale Telescope with adaptive optics technology.  


%insert figure here
\begin{figure}[!ht]
\centering
\includegraphics[width=4in]{images/introduction_3.png}
\caption{Three exoplanets directly imaged using a combination of adaptive optics and a coronagraph with the Palomar Observatory’s Hale Telescope.}
\label{fig:Intro_exo}
\end{figure}

However, factors such as high speeds of atmospheric turbulence and limited numbers of photons from targeted exoplanets reduce the achievable image contrast.  A solution to this issue is to incorporate deformable mirror wavefront control technology in high performance space telescope missions.  The DeMi demonstration will take the initial step by testing the stability, calibration, and predictability of a more complex, higher actuator count deformable mirror system in space.   

A space telescope utilizing a high performance coronograph and deformable mirror wavefront control system to directly image Earth-like exoplanets could potentially cost over a billion dollars.  Therefore, a low-cost CubeSat platform was selected for the DeMi demonstration in order to provide relatively quick and easy access to space in order to conduct the deformable demonstration. 

The technology that will tested in the DeMi demonstration has a number of foreseeable future applications, including implementation on high performance space telescopes, such as for direct imaging of Earth-like exoplanets, or for use with free-space laser communication in order to correct for aberrations in the atmosphere. 

\section{Mission Overview}
		\subsection{Requirements}
		
		See Appendix~\ref{app:requirements}.
		
		\subsection{Concept of Operations -ZG}
		
		DeMi will be a 3-unit CubeSat on a low-Earth orbit with an altitude of 500 km at an inclination of 40°. Immediately separation from a standard Poly-PicoSatellite Orbital Deployer (P-POD), the satellite will begin to charge its primary batteries through solar panels covering the long faces of the structure. During this first stage, the satellite’s antenna will be deployed and will emit intermittent signals, or beacons, in order to be located by the ground station. The ADCS torque coils will detumble the satellite and align it in a nadir-pointing position. The detumble stage should last approximately 2 weeks. In case the satellite needs more time to power up, communicate with the ground station and stabilize itself, the science operations could be delayed. 
		
		\begin{figure}[!ht]
				\centering
				\includegraphics[width=5in]{images/MissionOverview_1.png}
				\caption{Timeline of the concept of operations for the DeMi Mission}
				\label{fig:Mission_ConOps}
			\end{figure}
		
		Once the satellite is in fully operational status, the payload will begin to conduct its scientific experiments and collect data. Two different data capture modes will be performed during the mission: internal source experiments will be done during the first 3 months of operations, while external source experiments will occur during the remainder of the mission. The satellite will attempt to downlink the collected data whenever it passes over the NASA Wallops ground station and is given instructions to begin downlink. 

The majority of the time, the satellite will be in stand-by mode; in other words, it will not be capturing or downlinking data. In case of a subsystem malfunction, the satellite will go into safe mode to diagnose the source of the problem. 

Analyses performed using STK predict that the satellite will deorbit within 7.8 years. This timeline agrees with the current 25-year deorbit requirement outlined by NASA standards.2

		\subsection{$N^2$ Diagram}
		
		In the early stages of the design process, the team created an $N^2$ diagram to exchange input and output values. Additionally, this diagram became an essential tool in determining the levels of interaction between the satellite’s different subsystems. 
		
		\begin{figure}[!ht]
				\centering
				\includegraphics[width=5in]{images/MissionOverview_2.png}
				\caption{High-Level $N^2$ diagram showing input/output relationships between subsystems}
				\label{fig:Mission_N2}
			\end{figure}
			
		As highlighted the figure above, the payload requirements drive the design of all the other subsystems. While it does not receive design inputs from other subsystems, its design outputs cascade down effectively driving the design of the rest of the satellite. 

Feedback loops were present between several subsystems, which forced the team to perform trade studies to exchange performance for mass or power cost. One of these trades involved the design of the Power and ADCS subsystems. For example, complex solar panel designs that could absorb more solar energy, such as deployable panels, would require a more robust ADCS subsystem. However, such ADCS design would need to draw more power to maintain the panels facing towards the sun effectively cancelling the power gained. After careful consideration of costs and benefits, the team decided to take this option off the table
	
	\subsection{System Level Budgets}
		\subsubsection{Mass}
		The mass budget is presented in Figure~\ref{fig:Mission_mass2} below.
		
			\begin{figure}[!ht]
				\centering
				\includegraphics[width=5in]{images/MissionOverview_3.png}
				
				\includegraphics[width=5in]{images/MissionOverview_5.png}
				\caption{System Mass Budget}
				\label{fig:Mission_mass2}
			\end{figure}
			
		\subsubsection{Power}
		The power budget is presented in Figure~\ref{fig:Mission_power2} below.
			
			\begin{figure}[!ht]
				\centering
				\includegraphics[width=5in]{images/MissionOverview_4.png}
				
				\includegraphics[width=5in]{images/MissionOverview_6.png}
				\caption{System Power Budget}
				\label{fig:Mission_power2}
			\end{figure}
\newpage			
\section{Subsystems}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% PAYLOAD

		\subsection{Payload}
The payload for DeMi is an optical system that allows for the testing
and technology demonstration of a deformable mirror system.  It must include the following  elements: the deformable mirrors the
mission aims to test, a light source to create a wavefront, and a detector to measure the wavefront.  These components are attached
to an optical breadboard and are in an enclosure to block out external
light.  The challenge in this project is to create an optical system capable of testing the accuracy of current deformable mirror technology and evaluate its future applications while meeting the mass, volume and other constraints imposed by the 3U CubeSat platform.
			
\subsubsection{Requirements - AC}\label{sec:payload_requirements}

\begin{table}[ht]
\caption{Payload Requirements}
\begin{tabular}{l p{5in}} 
PLD-1 & The payload shall command a MEMS deformable mirror to run a pre-defined test sequence for at least 5 minutes each orbit. \\
& Parent Requirement: MLR-3, MLR-4\\
PLD-1.1 & The payload shall have the ability to control any combination of actuators within 0.001 s of each other, at a minimum rate of 100 Hz, with a minimum stroke of 1.5  $\mu$m, and with a precision of at least 1 nm.\\
& Parent Requirement: PLD-1\\
PLD-2 & The payload shall have the ability to measure and reconstruct the optical wavefront at one wavelength for the duration of a 5 minute test sequence each orbit at a frequency of at least 10 Hz.\\
& Parent Requirement: MLR-3, MLR-4\\
PLD-2.1 & The payload shall have the ability to measure the optical wavefront at a minimum rate of 10 Hz for at least one minute each orbit.\\
& Parent Requirement: PLD-2\\
PLD-2.2 & The payload shall have the ability to measure the optical wavefront at a minimum rate of 100 Hz for at least 30 seconds each orbit.\\
& Parent Requirement: PLD-2\\
PLD-2.3 & The payload shall have the ability to reconstruct the optical wavefront with a minimum accuracy of 100 nm rms.\\
& Parent Requirement: PLD-2\\
\end{tabular}\label{table:payload_requirements}
\end{table}

There are two types of requirements on the payload.  The first set (PLD-1) applies to the features of the deformable mirror system.  The second set (PLD-2) pertains to the measurement and reconstruction of the wavefront.  The complete requirements document can be found in Appendix~\ref{app:requirements}. 

The requirements on measuring and reconstructing the wavefront (PLD-2) apply to the detector.  Nominally, the detector must operate (capture images) for at least 5 minutes per orbit, and be able to function at a minimum of 10 Hz (PLD-2). The requirement is further separated into a ``Diagnostic Mode'' used for calibration and full frame images, and a ``Burst Mode'', used for data capture.  In ``Diagnostic Mode'', the payload is required to take images for at least a minute per orbit at 10 Hz (PLD-2.1).  In ``Burst Mode'', the payload is required to take images for at least 30 seconds per orbit a minimum of 100 Hz (PLD-2.2).  For both modes, the reconstruction accuracy must be a maximum of 100 nm rms (PLD-2.3).
			
			\subsubsection{Decisions Made and Trade Studies}

\paragraph{Payload Architecture - AC}

While in future applications the deformable mirror system will be used to aid
in observing stars or other objects, the mission goal of DeMi is to characterize the deformable 
mirror system, and to accomplish this with commercial off the shelf (COTS) components
whenever possible, providing a quick and simple platform for space (MLR-3, MLR-4).
As mentioned previously, there are a few key components that are integral to the design: the 
deformable mirror system to test, a light source to create a wavefront, and a detector to measure the wavefront.
To keep the design as simple as possible, the use of an internal light source, such as a laser, is  desirable for the technology demonstration. 

Many techniques exist for measuring and reconstructing a wavefront \cite{FGadaptiveoptics}.  These can be divided into sensored and sensorless approaches.
Sensorless approaches, such as the Gerchberg-Saxton-Based Estimation Scheme \cite{gerchberg}, are likely to be used for a direct imaging application of a large space telescope mission for their ability to eliminate non-common path optical errors.  However, sensorless approaches require additional computational resources, time, and occasionally additional detectors or detector translation \cite{cahoy2013}.  
Therefore, only sensored
approaches are considered for this platform due to the compact form
factor, the desire to use simple COTS components, and processing capabilities. There are numerous wavefront
sensing approaches that could be implemented, as well as
modified versions of those presented here, but the two designs discussed are chosen for their ability to be simply implemented in a compact platform.
While other designs (see Section~\ref{sec:payload_interferometer}) may be able to achieve higher precision, the Shack-Hartmann wavefront sensing system fits in the allotted volume with minor modifications to components, and allows for sufficient mirror characterization, meeting our mission goal and requirements (Table~\ref{table:payload_requirements}). Therefore, the Shack-Hartmann wavefront sensing design in Figure~\ref{fig:SHWFS} has been chosen to image the wavefront.

\subparagraph{Design Decision: Shack-Hartmann Wavefront Sensor - AC}

For the wavefront sensing design in Figure~\ref{fig:SHWFS}, a Shack-Hartmann lenslet array is used, allowing for accurate wavefront measurement and reconstruction sensitivity. The design has an internal source (laser diode), whose path is denoted by a dotted red line, and an aperture for imaging an external source, whose path is denoted by a dotted green line.

\begin{figure}[ht]
\centering
  \includegraphics[width=5in]{images/payload_SHWFS.jpg}
\caption{Design decision: Wavefront Sensing design with a Shack-Hartmann lenslet array}
\label{fig:SHWFS}
\end{figure}

For the internal source, the laser diode module emits a collimated elliptical beam. This beam enters a linear polarizer (where its intensity is halved). The beam then encounters a flat mirror at 45 degrees, reflecting the beam 90 degrees, and proceeds to a primary beam splitter. Here, the beam is reflected 90 degrees to a secondary polarizing beamsplitter, and reflected another 90 degrees. The beam then goes through a quarter waveplate (where the beam is now elliptically polarized) before striking the deformable mirrors. The deformable mirrors reflect the beam back through the quarter waveplate, rendering the beam now linearly polarized with an orientation that allows it to pass through the secondary beam splitter. The beam then proceeds through the lenslet array, creating a spot diagram on the detector corresponding to shape of the wavefront (see Section~\ref{sec:payload_sh}).

For the external source, the wavefront beam enters a plano-convex lens and passes through a collimating lens. The beam then enters a linear polarizer (where the intensity is halved). The beam passes through the primary beam splitter, and then to the secondary polarizing beamsplitter, which reflects the beam 90 degrees towards the quarter waveplate and the deformable mirrors, as mentioned previously, and follows an identical path as the internal light source to the detector.

The chosen design allows the detector to image both an internal and external source. While the mission goal can be accomplished with just an internal source, the ultimate goal of using this technology on a larger space telescope for imaging of bright stars motivates the use of an external source. Therefore, the option for an external source is included in the design.

Due to the added complexity required of the ADCS system on a CubeSat platform, the external source imaging will not require a precise star acquisition and navigation system. In contrast, with pointing knowledge from ADCS, the shutter on the aperture will be commanded open when a bright star is in the field of view (FOV). The maximum slew rate for imaging the external source is discussed in Paragraph~\ref{sec:pointing_requirement}.  Based on preliminary models looking at five bright stars (Alpha Centauri, Arcturis, Canopus, Sirius, and Vega), the satellite would expect to see the same bright star every orbit for an average of three to five minutes\footnote{Based on an STK simulation performed by Annie Marinan.}.  The pointing requirement on the maximum ADCS slew rate to keep the star on the same pixel on the detector is discussed in Section~\ref{sec:pointing_requirement}.

It is necessary that the aperture for imaging an external source be small, given the volume constraints of the CubeSat platform after accommodating all of the key elements of the system (deformable mirror, mirror driver electronics, detector, and necessary imaging optics). Due to the physical size of these key elements, it is not practical to design the external source imaging as a typical reflecting telescope. While it may be possible to accommodate an aperture lens with relatively large diameter ($>60$ mm), the corresponding longer focal length would not fit in the volume, and the space for resizing the beam is limited. While the smaller aperture will limit the angular resolution and sensitivity and increase the size of the point spread function (PSF), tight angular resolution is not a requirement for this technology demonstration. Therefore, this design has an aperture lens with diameter 12.7 mm, with a minimum focal length on the order of its diameter. Using the Rayleigh criterion, the angular resolution (width of the center of the PSF) at 500 nm is 9.907".

The current design allows for open and closed loop control.  Images and centroid solutions can be sent to the ground, allowing for evaluation of the mirror performance over time.  In addition, closed loop control (active correction of the wavefront on orbit) can also be implemented on board using the centroids and calculated slopes to command the mirrors.  Calculating mirror response from slopes requires little additional processing \cite{centroids}. 

All optical elements of the system are preliminarily chosen.
(See Appendix~\ref{app:payload_components} for the full list of
elements with part numbers and mass totals.)  Glass elements are
chosen to be UV fused silica over other glasses whenever possible for
their better performance in space \cite{radiation_optics} due to a
high coefficient of thermal expansion and better UV transmission.  All
elements also have anti-reflective coatings that are efficient in the
visible spectrum (400 - 700 nm).  All components in Figure~\ref{fig:SHWFS} are shown with their mounts.  However, the mass and volume of the mounts are only estimates of the custom mounts that will be built for all optics.  Custom mounts will be built to adapt the optics for space applications.  All elements must be mounted in stress-free mounts (e.g., no glass touching metal) and mounted to an optical breadboard with multi-footed lens tubes that are made of aluminum, or of a metal that has a similar coefficients of thermal expansion as the lens it holds.  Future modeling and optimization of the optical design will yield more exact component choices.

\subparagraph{Other Designs Considered: Michelson Interferometer with Nanopositioner - AC}\label{sec:payload_interferometer}
The interferometer design shown in Figure~\ref{fig:interferometer} is slightly modified from a typical interferometer due to volume constraints on the payload and the requirement for high contrast imaging. It has an internal source (laser diode), whose path is denoted by a dotted red line.
The laser beam is first resized, passes through a neutral density filter, then is reflected 90 degrees by a
flat mirror. The light is then divided by a beam splitter oriented 45
degrees to the beam. The transmitted beam travels to the deformable
mirror where it is reflected back towards the beam splitter. Half of
the beam is deflected by 90 degrees at the beam splitter and strikes
the detector. The reflected beam travels to the flat mirror on the
nanopositioner where it is reflected and half of it then is transmitted
through the beam splitter and reaches the detector. The two beams that
reach the detector interfere to produce fringes \cite{traeger} that are analytically well understood as a function of beam coherence/divergence and mirror tip/tilt \cite{demtroeder} and that can be simulated for a variety of different deformable mirror shapes.

\begin{figure}[ht]
\centering
  \includegraphics[width=5in]{images/payload_interferometer.jpg}
\caption{Other considered design: Michelson Interferometer with the flat mirror on a nanopositioner.}
\label{fig:interferometer}
\end{figure}

For this particular design, as mentioned previously, a flat mirror is on a nanopositioner, or a piezo linear stage, which moves in increments of fractions of the incoming wavelength. This allows for higher precision fringe patterns, allowing for better mirror characterization.

What is not shown in Figure~\ref{fig:interferometer} is the controller for the nanopositioner \cite{newport_nanopositioner}. It does not currently fit within the constraints of the satellite in terms of mass, volume, and power needs, and would require significant modifications, if it were to be implemented. Also, the additional moving part (nanopositioner) increases the risk and complexity of the mission, making the Shack-Hartmann wavefront sensor the design choice.

\subparagraph{Payload Operations - AC}
For the initial demonstration and on-orbit testing, an internal light
source will be used. This eliminates any payload specific requirements
on the satellite's attitude and inclination. For the latter half of
the mission, an external light source will be used, in order to attempt to image the optical wavefront from a star.  All downlinked files will be timestamped.

\begin{enumerate}
\item{\textbf{Status Checks}}
After detumbling, and two weeks of commissioning, as describe in
Section~\ref{sec:systems_conops}, the payload will perform a status check of all instruments. This includes the deformable mirror system, the detector, and the laser. Each element will be turned on and checked for error or status codes. Any available status information directly from the deformable mirrors, detector, and laser will be sent to the ground.

\item{\textbf{Calibration}}
The next phase is to calibrate the system using the ``Diagnostic Mode" requirements outlined in Section~\ref{sec:payload_requirements}.  This involves turning on the laser and recording several images in this configuration with the detector, without deforming the mirrors (acts as a flat mirror). From these images, on-board processing algorithms can find the centroids \cite{centroids} and average them to obtain new `standard centroids', which will be used for wavefront comparison calculations throughout the remainder of the mission. These images, averages, and new centroid solutions will be sent to the ground and stored on-board.

\item{\textbf{Data Capture: Internal Source}}
The next, and most important, stage is data capture using the internal source. The laser is turned on, then the mirror is deformed by a predetermined test sequence of commands, and the wavefront is imaged on the detector. The test sequence will include `poking' one actuator at a time, and `poking' combinations of actuators in commonly known shapes, such as Zernike polynomials and Fourier modes.  Then, the images are read from the detector, centroids are found, and one full image and the collection of centroid solutions are sent down to the ground and stored on-board.  Local wavefront slopes will be found from the centroid solutions using simple on-board algorithms, and the mirrors will be commanded for active wavefront correction on-board.

\item{\textbf{Data Capture: External Source}}
The second part of data capture will be with an external source. This external source will be a bright star, such as Vega or Sirius, as mentioned previously.  With
knowledge from ADCS, the shutter will be commanded open, and the laser
will be commanded off, allowing an external source to be imaged. The
images will be read from the detector, the centroids found, and one
full frame image along with the collection of centroid solutions will be
sent to the ground and stored on-board.  Identical to data capture with an internal source, local wavefront slopes will be found from the centroid solutions using simple on-board algorithms, and the mirrors will be commanded for active wavefront correction on-board. 

\end{enumerate}

\paragraph{Deformable Mirror System - KB} \label{par:payload_dms}

There are only two vendors which sell commercial off-the-self options for MEMS deformable mirrors that will fit inside a CubeSat: Boston Micromachines, and Iris Adaptive Optics. The Boston Micromachines Mini DM comes in three different sizes of stroke and aperture. Stroke
referes to the maximum amount the mirror can 'push' a segment outward, and the aperture is simply the aperture of the DM. Since there is little room for resizing optics in our system, the aperture of the DM
acts as a stop. As such, larger apertures are strictly better for the accuracy of the wavefront we can reconstruct. While the Iris AO PT111 does have a larger aperture \emph{and} a larger stroke, which are both
better for accuracy, its driver board is larger and much more difficult to modify than the BMC Mini's. As such, we selected the largest BMC mini DM, with a 2.25 mm aperture and a stroke of 5.5 $\mu \text{m}$.

\paragraph{Detector - KB} \label{par:payload_detector}

For a detector, we chose the UI52-41LE-M CMOS detector from
IDS. Critically, it has a 5.2$\mu m$ pixel size, which is smaller than
the pixel sizes we looked at for the alternatives. Since accuracy is a
function of pixel size, maximizing pixels per subaperture is very
important. Alternatives we considered included the DCC1545M and the
e2v CCD47-20 frame transfer CCD (Table~\ref{table:payload_detectors}). 
%clearly planning to write more here -KB
\begin{table}[!ht]
  \caption{This needs a caption.}
    \begin{tabular}{|l||l|llll|}
    \hline
    Detector                      & Req. PLD-2
    &47-20&DCC1545M&UI1221LE-M&UI5241LE-M\\ \hline \hline
    Manufacturer&-&e2v&Thorlabs&IDS&IDS\\ \hline
    Type&-&Frame transfer CCD&CMOS&CMOS&CMOS\\ \hline
    Full frame rate&  10 Hz            & 5 MHz                       & 25 fps                 & 87.2 fps            & 50 fps              \\ \hline
    Subframe rate& 100 Hz            & -                           & 79 fps                 & 100 fps             & 102 fps             \\ \hline
    Accuracy       & 100 nm rms        & 11.2 nm rms                 & 45 nm rms              & 45 nm rms           & 45 nm rms           \\ \hline
    Data Rate& -                 & 52.4 Tbit/sec               & 259 Mbit/sec           & 207 Mbit/sec        & 310 Mbit/sec        \\\hline
    \end{tabular}\label{table:payload_detectors}
\end{table}


\paragraph{Shack-Hartmann Lenslet Array - AC} \label{sec:payload_sh}

A Shack-Hartmann lenslet array consists of a matrix of small lenses (called lenslets) of the same focal length, where the array is focused on the detector. Each lenslet forms a “spot”, creating a spot diagram on the detector. Figure~\ref{fig:lenslet_array} demonstrates incoming light through a lenslet array. The local tilt of the wavefront across each lenslet can then be calculated from the position of the focal spot on the sensor; the displacement, $\Delta x$, equals the local slope of the wavefront. Any phase aberration can be approximated to a set of discrete tilts. By sampling an array of lenslets, all of these tilts can be measured and the whole wavefront approximated. Only tilts are measured, so the lenslet array cannot detect discontinuous steps in the wavefront.

\begin{figure}[ht]
\centering
  \includegraphics[width=5in]{images/payload_SH.png}
\caption{The result of two wavefronts, plane (top)
  and abberated (bottom), entering a Shack-Hartmann lenslet array, and their
  resulting spot diagrams on the detector \cite{ctio_AO}.}
\label{fig:lenslet_array}
\end{figure}

To get the best measurement of the wavefront, the maximum number of spots, and therefore lenslets, is desired. As a result, for a constant beam size, a lenslet array should be chosen with the lowest pitch (distance from the center of each lens) in order to get the maximum number of spots for the beam.


Therefore, the microlens array MLA150 was chosen from ThorLabs \cite{MLA150} (see Figure~\ref{fig:MLA150}), with a pitch of 150 $\mu$m.
The lenslet is 10 mm square, so it contains about 66 by 66 lenslets. It is mounted in the lens tube on the detector. For an approximate beam size of 2.25 mm (see Paragraph~\ref{par:payload_dms}), approximately 15 by 15 lenslets will be used of the lenslet array.  See Section~\ref{sec:payload_pixels} for a discussion of the pixels used on the detector per lenslet.

\begin{figure}[ht]
\centering
  \includegraphics[width=4in]{images/payload_MLA.jpg}
\caption{The MLA150 lenslet array from ThorLabs \cite{MLA150} chosen for the Shack-Hartmann Wavefront Sensing design consists of many microlenses, aligned closely together.}
\label{fig:MLA150}
\end{figure}


			\subsubsection{Analysis - KB}
                        
			\paragraph{Pointing Requirement - KB}\label{sec:pointing_requirement}
			\paragraph{Data Rates to Avionics - KB}
			
			\paragraph{Shack-Hartmann Lenslet Array - AC}
				
				\subparagraph{Pixels per Lenslet Spot}\label{sec:payload_pixels}
In order to image the spots created by the Shack-Hartmann microlenslet array, spots must fall on their own unique pixels.  At least four pixels are required per lenslet spot (a two by two square of pixels) to account for the event in which a spot lands between two pixels, or at the center of four pixels.
The incoming beam is 2.25 mm (Paragraph~\ref{par:payload_detector}).  This corresponds to about 15 by 15 spots. The detector has a pixel size of 5.2 $\mu$m, so a 2.25 mm beam corresponds to about 425 px square.  Therefore, over twenty pixels are available for each lenslet spot, so there is no concern for multiple spots falling on the same pixel. 
				
				\subparagraph{Actuators per Lens}
The chosen BMC deformable mirrors have a total of 32 actuators (a 6 by 6 array, with no corners) with an actuator pitch of 450 $\mu$m \cite{BMC}.  The Shack-Hartmann lenslets have a pitch of 150 $\mu$m, so there will be a minimum of four spots devoted to each actuator.  Therefore, there is no concern for individual actuators to be untested or characterized properly.

			\subsubsection{Summary of Outputs - AC}

The payload's operational requirements are major drivers for the design of the rest of the satellite. A summary of mass totals, power needs, and thermal requirements of all major payload components can be found in Table~\ref{fig:payload_summary_table}.  
During data capture mode, the payload must be kept within $0^\circ$C to $50^\circ$C, will draw a maximum power of 4.5 W, will output a maximum data rate of 550 Mbit/s, and, during external data acquisition only, has a maximum slew rate of 4.7'/s. 
With all components, the payload is 1.00 g, and 1.25 kg with a 25% margin.  

\begin{table}
\caption{Summary of the mass totals, power needs, and thermal needs of the major payload components.}
\begin{tabular}{|c||c|c|c|c|} \hline
	Component & Mass (g) & Power (W) & Thermal, operating ($^\circ$C) & Thermal, storage ($^\circ$C) \\ \hline \hline
Laser diode & 24.45 & 0.0045 & -10 to 50 & unknown \\
Detector & 46.64 & $<$ 2 W & 0 to 50 & -20 to 80 \\
Def. Mirrors + Driver & 189.9 & $<$ 2.5 W & -10 to 50 & unknown \\
Optical Breadboard & $\sim$250 & -- & -- & -- \\
Optical Enclosure & $\sim$300 & -- & -- & -- \\ \hline \hline
Totals & 996.9 & 4.5 W max & 0 to 50 & -20 to 80 \\ \hline
\end{tabular}\label{fig:payload_summary_table}
\end{table}

			\subsubsection{Future Work - AC}

Future work includes optical modeling of the system using the software ZEMAX \cite{zemax}. Modeling the system with ZEMAX will determine the
  final beam profile on the detector.  This will allow for more precise calculations of data rates, for example.  Optimization of the space will
  be determined to find the best choice of components.  Thermal
  effects on the beam and optical components will be also analyzed, along with the effects of slight misalignments (i.e. with lenslet array).

Also, to determine the feasibility of the interferometer with the nanopositioner design, discussions with various nanopositioner manufacturers are needed to resolve if the nanopositioner elements can be appropriately modified for a CubeSat platform.  Preliminarily, a nanopositioner would require additional power and processing.  Further effects on other subsystems needs to be determined. 

Furthermore, while the design allows for imaging of an external source, when and how to image an external
  source still needs to be determined. Specific bright stars need to be chosen, and their revisit times calculated more precisely based on the orbital parameters unique to DeMi.

Lastly, specific properties of the deformable mirror system need to be explored.  For example, a stroke analysis needs to be performed.  Also, research needs to be done to try to predict the deformable mirror system's performance in a space environment, and how this might be quantified and corrected.

			
	
\newpage
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% POWER
			
		\subsection{Power - JC}
			\subsubsection{Requirements}
			The Power subsystem is required to supply power to all other subsystems under all conditions.  In particular, it must supply an average of 3.54 watts on average over the course of the orbit (calculated in Section~\ref{subsubsec:power-analysis}, Analysis), sustain a maximum load of 13.84 watts during certain operational modes (downlink mode, per Systems), have a minimum battery capacity of 3.9 watt-hours (calculated in Section~\ref{subsubsec:power-analysis}, Analysis), and meet these requirements for up to 1 year, or approximately 6,000 cycles (calculated in Section~\ref{subsubsec:power-analysis}, Analysis).
			
			\subsubsection{Trade Studies and Decisions Made}
			Using STK, we compared the average power obtained by the solar panels under several circumstances.  The two variables were the inclusion or omission of a solar panel on the top face of the satellite, in addition to the four side-mounted panels, and the orientation of the satellite in its orbit -- whether it few ``face-first'', with the normal vector of one of its sides aligned with its velocity, ``corner-first'', where it is tilted by 45 degrees about its long axis from the face-first orientation, or spinning about its long axis.  The face-first and corner-first attitudes are illustrated below:
			
			\begin{figure}[ht]%
			\centering
			\includegraphics{images/power-face-first.png}%
			\hspace{0.5in}
			\includegraphics{images/power-corner-first.png}
			\caption{The ``face-first'' and ``corner-first'' attitudes.  Images generated from STK.}%
			\label{fig:power-face-first}%
			\end{figure}
			
			\begin{table}[ht]\label{table:power-trade-study}
\caption{Power values for various panel configurations and satellite attitudes.}
\begin{center}
    \begin{tabular}{|c|c|c|c|} \hline
    	 & Face-first & Spinning & Corner-first \\ \hline
Side panels & 3.77 W & 4.16 W & 4.52 W \\\hline
Side and top panels & 4.45 W & 4.84 W & 5.19 W \\\hline
    \end{tabular}
\end{center}
\end{table}

Note that these power values are averaged over the entire orbit -- that is, taking the incoming power to be zero during local night and including that in the average.  This was done because the satellite is active during the entire orbit, and its average power needs are calculated over the entire orbit; to ensure that we are comparing likes against likes, we did the same for the power generated.
			
			\subsubsection{Decisions Made}
			
			\begin{figure}%
			\centering
			\includegraphics[trim = 0 2cm 0 0, clip]{images/power-3U-side-paneled.png}%
			\caption{The solar panel configuration to be used on the DeMi satellite.  Image from Clyde Space.\cite{CS-image}}%
			\label{fig:power-panels}%
			\end{figure}
			
In general, the power subsystem was designed to be as simple as possible while meeting the satellite's power needs.  We chose to use stock parts as much as possible because they have known performance, which helps us verify that requirements are met and reduces the margins we need to hold.

The chosen solar panel configuration was four body-mounted side panels.  Body-mounted panels were chosen over deployable panels because they minimized the surface area of the satellite, which minimized the disturbance torques, and they are symmetrical, reducing the pointing constraints on the ADCS.  The satellite would be oriented in a nadir-pointing configuration, so the nadir face would almost never see any sunlight, so we chose not to panel it, and we chose not to panel the zenith face to allow the payload to have an aperture in that face, so that it could potentially image external light sources.

The remainder of the power system is similar to that of most other satellites: an electrical power system module takes power from the solar panels and manages the current and voltage levels to ensure that the panels deliver power at maximum efficiency, a secondary (rechargeable) battery supplies the satellite with energy during eclipse, and a power distribution module supplies power to systems which are not part of the main system stack, like the torque coils.

The satellite's power subsystem does not include a primary battery.  A primary battery was never included in the design because the satellite was to be covered on most sides by solar panels and would be power-positive in detumbling mode, so it would charge as soon as it exited the P-POD.  The only reference to a Cubesat containing a primary battery was a description of a Cubesat that lacked solar panels entirely.\cite{libertad-1}
			
			\subsubsection{Analysis}\label{subsubsec:power-analysis}
			
The average power required is the time-weighted average of the power required during the various modes of the satellite:

\begin{equation}
P_{req,avg} = \frac{1}{T_{total}}\sum_{modes}{ \sum_{systems}{T_{mode} \: P_{sys,mode}} } = 3.54 \ \text{W} 
\label{eq:power-required}
\end{equation}

The solar panels are required to gather enough power during the day to power the satellite for the entire orbit, when taking the inefficiency of the EPS into account ($\eta = 0.85$ in the worst case\cite{EPS-manual}):

\begin{equation}
P_{req,panels} = \frac{T_d + T_e}{T_d}\frac{P_{req,avg}}{\eta} = 6.61 \ \text{W (cold)}, 5.21 \ \text{W (hot)}, 4.16 \ \text{W (orbit avg)}
\label{eq:power-required-panels}
\end{equation}

``Hot'' and ``cold''\footnote{Perhaps ``bright'' and ``dark'' would be better terms from a power perspective, because it is not temperature that gives us power but sunlight.} here refer to the two orbital cases which have the most and least solar exposure for the satellite – because the orbit is fixed in inertial space, it appears to rotate with respect to the Earth-Sun vector over the course of a year.  Every six months, it goes from a “cold” orbit, which is in the sunlight 63\% of the time, to a “hot” orbit, which is 80\% sunlit, and back again.  The two orbits are illustrated below.

\begin{figure}[ht]%
\centering
\includegraphics{images/power-hot-orbit}%
\caption{A ``hot'' orbit, where the satellite is exposed to the sun 80\% of the time.  Image generated from STK.}%
\label{fig:power-hot-orbit}%
\end{figure}

\begin{figure}[ht]%
\centering
\includegraphics{images/power-cold-orbit}%
\caption{A ``cold'' orbit, where the satellite is exposed to the sun 63\% of the time.  Image generated from STK.}%
\label{fig:power-cold-orbit}%
\end{figure}

The satellite drains the most energy from the battery if it performs a ground station pass (maximum duration: 9.77 minutes, per Comm) and scientific operation (nominal duration: 5 minutes, per Payload) during local night:

\begin{equation}
E_{req,batt} = T_{sci} P_{sci} + T_{comm} P_{comm} + (T_e - T_{sci} - T_{comm}) P_{standby} = 3.9 \ \text{Wh}
\label{eq:power-batt-req}
\end{equation}

The excess power is the power actually generated by the panels that does not go into powering the satellite or charging the battery -- in other words, the difference between the power required power and the power actually generated:

\begin{equation}
P_{excess} = P_{panels} - P_{req,panels} = 0.63 \ \text{W (cold)}, 2.57 \ \text{W (hot)}
\label{eq:power-excess}
\end{equation}

It can be useful to model the excess power as an average over the entire orbit, rather than just happening during local day (for first-order approximations of the equilibrium satellite temperature):

\begin{equation}
P_{excess,avg} = P_{excess} \: \frac{T_d}{T_d + T_e} = 0.40 \ \text{W (cold)}, 2.06 \ \text{W (hot)}
\label{eq:power-excess-avg}
\end{equation}

The number of charge-discharge cycles of the battery is approximately equal to the number of orbits that the satellite will have to sustain:

\begin{equation}
N_{cycles} = \frac{T_{year}}{T_{orbit}} = 5500 \approx 6000 \ \text{(with 10\% margin)}
\label{eq:power-num-cycles}
\end{equation}

			\subsubsection{Summary of Outputs}

\begin{table}[ht]\label{table:power-outputs}
\caption{Outputs to other systems (mass, volume, power consumed, and survival and operating temperatures).\cite{EPS-manual} \cite{PDM-manual} \cite{Battery-manual} \cite{Solar-panel-datasheet}}
\begin{center}
    \begin{tabular}{|l|l|l|p{0.8in}|p{1in}|p{1.1in}|} \hline
Component & Mass (kg) & Volume (U) & Power consumed (W) & Survival temperature ($^\circ$ C) & Operating temperature ($^\circ$ C) \\ \hline \hline
Solar panels & 0.540 & 0 & 0 & -40 to 80 & -40 to 80 \\\hline
EPS & 0.083 & 0.15 & 0.1 & -50 to 100 & -40 to 85 \\\hline
Battery & 0.256 & 0.2 & 0.1 & -10 to 50 & 0 to 50 \\\hline
PDM & 0.060 & 0.25 & 0.16 & -50 to 100 & -40 to 85 \\\hline \hline
Total & 0.939 & 0.6 & 0.36 & N/A & N/A \\\hline
    \end{tabular}
\end{center}
\end{table}

The solar panels do not literally have zero volume, but because they are fixed to the sides of the Cubesat, they do not occupy any of the three units of internal volume.

			\subsubsection{Risks}

The primary risk facing the Power subsystem is that our incoming power is fundamentally limited, so we will have to be careful to not exceed our budget.  As computed in Analysis (Section~\ref{subsubsec:power-analysis}), the average power drawn by the satellite for nominal mode durations is 3.54 watts.  While the orbit-averaged power coming in from the solar panels is 4.52 watts, which is a 28\% margin over the power needs, when we take the worst-case efficiency of the EPS's solar-panel connection into account\cite{EPS-manual}, we find that as little as 3.84 watts are actually getting to the battery power bus, leaving only a 9\% margin (which might then be further eroded by inefficiencies in the power lines).  This is less than the 18\% margin goal we had set for ourselves, and substantially less than the 30\% margin that JPL informed us was their usual standard for satellite missions.

This risk is mitigated by the 32\% margin of available power over the standby power need of 2.91 watts.  From this, we can be confident that, even in the worst possible case, the satellite will be power-positive during its standby mode.  This means that, if the satellite should find itself unable to meet its power needs for nominal mode durations, it could be commanded to spend more time in standby mode and less in data capture or downlink mode to restore balance to its power budget.  As mentioned in the Analysis section, the available power was calculated for the coldest, darkest orbit that the satellite will be in.  For the brightest orbit, the average power generated by the solar panels over the entire orbit increases to 7.42 watts, which, taking the worst-case EPS efficiency into account, results in 6.31 watts reaching the power line, which is a 78\% margin over the average power required.  In fact, we could spend 29 minutes -- nearly six times the nominal data capture mode duration -- of such a bright orbit in data capture mode (leaving the downlink mode duration constant, as ground pass durations are independent of available power) while maintaining a 30\% margin of available (post-EPS) power over required power.  We can thus be assured that, even if the satellite is forced to reduce the duration of data capture and downlink modes during darker orbits to conserve power, we can make up for any shortfalls of captured data during better orbits.

			\subsubsection{Future Work}
The performance of the solar panels and batteries is temperature-dependent.  In particular, the battery becomes more effective as its temperature increases, while the solar panels become less so.  Going forward, it would be useful to perform a more detailed simulation of the satellite that incorporates a thermal model, so that we can more accurately measure the effect of satellite temperature and dissipated excess energy (energy from the solar panels that does not go into charging the battery or powering the satellite).

\newpage
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% COMM
		\subsection{Communication}

			\subsubsection{Requirements - ZC}
			
			\begin{table}[ht]
\caption{Communications Driving Requirements}
\begin{tabular}{l p{5in}} 
COMM-3.1 & The subsystem shall transmit at $19.2\ kb/s$ for uplink and $1.5\ Mb/s$ for downlink. \\
& Parent Requirement: COMM-3\\
COMM-3.2 & The subsystem shall have a bandwidth of $445-455\ MHz$ for uplink and $460-470\ MHz$ for downlink. \\
& Parent Requirement: COMM-3\\
\end{tabular}\label{table:comm_requirements}
\end{table}

The driving requirements for the communications subsystem are that it should transmit at the data rates and frequencies (Comm-3.2) that are necessary to transmit all data to the ground station. The required frequencies are $445-455\ MHz$ for uplink and $460-470\ MHz$ for downlink. The required data rates are $19.2\ kb/s$ for uplink and $1.5\ Mb/s$ for downlink.

			\subsubsection{Decisions Made - ZC}\label{sec:comm_decisions}

The L-3 Cadet Nanosat UHF Radio was chosen for use on DeMi. It transmits at the frequencies and data rates outlined in the requirements. The transceiver has an extra $4\ GB$ of storage that avionics uses in addition to any of its storage. 

Because the transceiver is transmitting and receiving at UHF frequencies, a very common antenna choice is to use a measuring tape antenna that is tuned to the frequency that is desired. Because the antenna works like a quarter-wave monopole, the desired length of the antenna is calculated by dividing the wavelength of the signal by 4. Because the transmitting and receiving frequencies are different, the average of these frequencies is used to compute the wavelength. With a frequency of $465\ MHz$, the wavelength equals $.645$ meters. Then, the length of the antenna can be determined using Eq.~\ref{eq:comm-antenna-length}.


\begin{equation}\label{eq:comm-antenna-length}
\lambda = c/f
\end{equation}

In Eq.~\ref{eq:comm-antenna-length}, $l$ is the length of the antenna, and $\lambda$ is the wavelength.
Using a wavelength of .645 meters, the desired length of the antenna is about .164 meters. The
gain of this antenna will be approximately 3 dB and the beam width approximately $65^\circ$. DeMi is
using two of these antennas so that communication can occur even if it is rotated 180 degrees
from where it is supposed to be.

The ground station that DeMi communicates with will be the NASA Wallops UHF Ground Station. This ground station is being used because the transceiver chosen for DeMi was also used in the Dynamic Ionosphere CubeSat Experiment, and the ground station that was used in that mission was the NASA Wallops UHF Ground Station. The diameter of the dish is $18.29$ meters, the gain is $35\ dB$ and the beam with is $2.9^\circ$.


\subsubsection{Trade Studies - ZC} \label{sec:communications-trade-studies}

The main factor in choosing the transceiver on DeMi is the maximum data downlink rate. Because payload is generating so much data, the communications system needs to have a high downlink rate to ensure that all of that data can be sent to the ground. Several options were investigated, and the transceiver with the highest data rate is being used. The transceivers that were considered and their maximum data rates are shown in Table~\ref{table:comm_transceivers}.

\begin{table}[ht]
\caption{Communications Trade Study for Maximum Downlink Data Rate}
\begin{center}
    \begin{tabular}{| c | c |} \hline
    	Tranceiver & Maximum Downlink Rate \\ \hline \hline
Espace Payload Telemetry System & $1\ Mb/s$ \\
AstroDev Li-1 UHF Transceiver & $38.4\ kb/s$ \\
ISIS TXS Small Satellite  S-Band Transmitter & $100\ kb/s$ \\
Tyvak UHF Transceiver & $200\ kb/s$ \\
L-3 Cadet Nanosat UHF Radio & $1.5\ Mb/s$ \\
Microhard MHX2420 Modem & $230.4\ kb/s$ \\ \hline 
    \end{tabular}\label{table:comm_transceivers}
\end{center}
\end{table}

			\subsubsection{Analysis - ZC}

The maximum amount of data downlink per pass-by can be calculated by multiplying the downlink data rate and the access duration per pass-by. Given the downlink data rate of $1.5\ Mb/s$, and the access duration of $586$ seconds per pass-by, the maximum amount of data that can be downlinked in one pass-by is $109.9\ MB$. Because the satellite is not always directly above the ground station, the satellite is not always downlinking at the maximum data rate. To account for this, and for space for telemetry data and error correcting code, a margin of a factor of 2 is added, so the maximum amount of data from payload that can be downlinked per pass-by is about $54.95\ MB$. Although this is not as much data as payload is creating, on-board processing is used so that the amount of data that needs to be downlinked is below the maximum amount that is allotted for payload.

A link budget was created in order to determine the link margin for a worst case and a best case for uplink and downlink. The uplink budget and the downlink budget are detailed in Appendix~\ref{app:link_budgets}.

The first calculation for the link budget is to determine the worst case propagation path length. The best case length is $500\ km$ because that is the altitude at which the satellite is orbiting. Figure~\ref{fig:comm_propagation_path} shows how a wave propagates through that atmosphere.

\begin{figure}[ht]
\centering
  \includegraphics[width=4in]{images/comm-angles.png}
\caption{Diagram of propagation path of a signal from a satellite \cite[p.~12]{ITU-R}.}
\label{fig:comm_propagation_path}
\end{figure}

In order to determine the propagation path length, $r$, the path length of the first layer and the second layer must be determined and added together. The equation for calculating the path length of a layer is as follows in Eq.~\ref{eq:comm_path_length} \cite[p.~9]{ITU-R}.

\begin{equation}\label{eq:comm_path_length}
a_n = -r_n\cos(\beta_n) + \frac{1}{2}\sqrt{4r_n^2\cos^2(\beta_n)+8r_n\delta_n+4\delta_n^2} 
\end{equation}

In this equation, $a_n$ is the path length through layer $n$, $r_n$ is the radius from the center of the Earth to the beginning of layer $n$, $\beta_n$ is the exiting incidence angle, and $\delta_n$ is the thickness of layer $n$.
The angle $\beta_n$ can be calculated using Eq.~\ref{eq:comm-exit-angle} \cite[p.~10]{ITU-R}.

\begin{equation}\label{eq:comm-exit-angle}
\beta_{n+1} = \arcsin\biggl(\frac{n_n}{n_{n+1}}\sin(\alpha_n)\biggr) 
\end{equation}

In this equation, $n_n$ is the refractive index of layer $n$, and $\alpha_n$ is the entry incidence angle. Angle $\alpha_n$ can be calculated with the last equation needed in order to calculate the propagation length, Eq.~\ref{eq:comm-entry-angle \cite[p.~9]{ITU-R}.

\begin{equation}\label{eq:comm-entry-angle}
\alpha_n = \pi - \arccos \biggl(\frac{-a_n^2 - 2r_n\delta_n - \delta_n^2}{2a_n r_n + 2a_n \delta_n}\biggr) 
\end{equation}

Values that still need to be defined are $\beta_1$ (because it cannot be calculated using the Eq.~\ref{eq:comm-entry-angle}), $\delta_1$, $\delta_2$, $n_1$, and $n_2$. $\beta_1$ is just equal to the complimentary angle to the minimum angle at which the Wallops Ground Station can track, which is $5^\circ$. $\delta_1$ will be equal to the altitude at which the atmosphere ends which one can say is about $100\ km$. $\delta_2$ is just the orbiting altitude minus $\delta_1$. $n_1$, which is simple the refractive index of air, is $1.000293$. The last remaining value to be defined is $n_2$, which is the refractive index of a vacuum, which is just 1. Using these equations, one can find that $a_1$ equals $707\ km$, and $a_2$ equals $1375\ km$. This means that the worst case propagation path length is equal to $2082\ km$. The refraction of the wave in air did not change the path length by very much. Without accounting for the refraction, the path length can be calculated using the equation for $a_n$. In this calculation, $r_n$ equals $r_1$, $\beta_n$ equals $\beta_1$, and $\delta_n$ equals $500\ km$ which is the altitude at which DeMi orbits. These values give a path length equal to $2077\ km$, which is only $5\ km$ shorter than the path length when taking refraction into consideration.

The next value calculated in the link budgets is the Equivalent, Isotropic Radiated Power (EIRP). In order to calculate the EIRP, Eq.~\ref{eq:comm-eirp} should be used \cite[p.~476]{SMAD}.

\begin{equation}\label{eq:comm-eirp}
EIRP = P_{tx} + G_{tx} - L_{output} 
\end{equation}

In Eq.~\ref{eq:comm-eirp}, $P_{tx}$ is the transmitter power, $G_{tx}$ is the transmit antenna gain, and $L_{output}$ is the output loss which is equal to all losses associated with the transmitter. All of these values can be found in the two link budgets in Appendix~\ref{app:link_budgets}.

Another calculated value in the link budget is the space loss. This is the loss of the signal as it is transmitted through space. It can be calculated using Eq.~\ref{eq:comm-space-loss} \cite[p.~476]{SMAD}.

\begin{equation}\label{eq:comm-space-loss}
L_s = 92.45 + 20\log_{10}(r) + 20\log_{10}(f) 
\end{equation}

In Eq.~\ref{eq:comm-space-loss}, $L_s$ is space loss, $r$ is the propagation path length, and $f$ is the frequency of the transmitted signal. All of these values can also be found in the two link budget tables in Appendix~\ref{app:link_budgets}.

Eq.~\ref{eq:comm-antenna-temp} can be used to calculate the transmitting antenna temperature \cite{pozar}.

\begin{equation}\label{eq:comm-antenna-temp}
T_{antenna} = \eta T_{sky} + (1 + \eta) \frac{T_{sky} + T_{ground}}{2} 
\end{equation}

In Eq.~\ref{eq:comm-antenna-temp}, $\eta$ is the antenna efficiency, $T_{sky}$ is the temperature of the space behind the receiving antenna. The temperatures used for uplink are determined by using the background temperature of space. For downlink, the temperature of the Earth is used. $T_{ground}$ is the temperature of the ground around the antenna. For uplink, this is the temperature of the Earth, and for Downlink, it is the background temperature of space.

The system noise temperature, $T_{sys}$, is calculated by adding the transmitting antenna temperature and the receiver temperature \cite{pozar}. The receiver temperature for both cases is unique to the receiver and can be determined by the manufacturer.

The next calculated value is the Receiver Gain to Noise Temperature. This is computed using Eqn.~\ref{eq:comm-gain-to-noise} \cite[p.~477]{SMAD}.

\begin{equation}\label{eq:comm-gain-to-noise}
\frac{G}{T} =  G_{rx} - T_{sys} 
\end{equation}

In Eq.~\ref{eq:comm-gain-to-noise}, $G/T$ is the receiver gain to noise temperature, $G_{rx}$ is the receiving antenna gain, and $T_{sys}$ is the system noise temperature. Using $G/T$, the total losses in the system, and EIRP one can determine the receiver carrier to noise ratio \cite[p.~477]{SMAD}.

\begin{equation}\label{eq:comm-carrier-to-noise}
\frac{C}{N_0} = EIRP + \frac{G}{T} - L_{total} + 228.6 
\end{equation}

Using the value from Eq.~\ref{eq:comm-carrier-to-noise} and the data rate in decibels, one can calculate the energy per bit to noise ratio \cite[p.~478]{SMAD}.

\begin{equation}\label{eq:comm-energy-to-noise}
\frac{E_b}{N_0} = \frac{C}{N_0} - R_b 
\end{equation}

Finally, the link margin can be determined by subtracting the required energy per bit to noise ratio from the predicted one \cite[p.~478]{SMAD}. The best and worst case link margins for uplink and downlink are shown in Figure~\ref{fig:comm_cases}.


\begin{figure}
\hfill
\subfigure[Best Case Communication]{\includegraphics[width=3in]{images/comm-best.png}}
\hfill
\subfigure[Worst Case Communication]{\includegraphics[width=3in]{images/comm-worst.png}}
\hfill
\caption{Representation of Satellite and Ground Station during a.) Best Case Communication and b.) Worst Case Communication}
\label{fig:comm_cases}
\end{figure}
		
\subsubsection{Summary of Outputs - ZC}

There were several outputs during the design process from the communications subsystem. These outputs include the ground station to the orbits subsystem, which is NASA Wallops UHF Ground Station, the beam width of Wallops UHF Ground Station and DeMi to ADCS, which are $2.9^\circ$ and $65^\circ$ respectively. The operational and survival temperatures of the transceiver to the thermal subsystem, the power for each mode to the power subsystem, and the mass and volume to the structures subsystem are detailed in Table~\ref{table:comm_summary_outputs}.
	
\begin{table}[ht]
\caption{Communications Budgets}
\begin{center}
    \begin{tabular}{|c||c|} \hline
    	Output & Value \\ \hline \hline
    Power (Standby) & $0.51\ W$  \\
    Power (Data Capture) & $0.51\ W$ \\
    Power (Downlink) & $11.44\ W$ \\
    Power (Uplink) & $0.51\ W$ \\
    Power (Safe Mode) & $0.51\ W$ \\
    Mass & $\sim 0.235\ kg$  \\
    Volume & $0.069\ U$ \\ 
Operating Temperature Range & $-20^\circ$ to $70^\circ$ \\
Survival Temperature Range & $-40^\circ$ to $80^\circ$ \\ \hline 
    \end{tabular}\label{table:comm_summary_outputs}
\end{center}
\end{table}

			\subsubsection{Risks - ZC}
			Initially, there were concerns that communications may not be able to downlink enough of the
data from the payload; however, avionics has decided that because of this risk, DeMi will be
doing on-board processing so that less data is required to be downlinked. There is the risk
that there may be a lot of interference at the frequencies that DeMi uses. In order to determine
this, there would have to be a ground station site survey and if there were a problem with
interference, specialized receiver software would have to be developed to mitigate the issue.

			\subsubsection{Future Work - ZC}
	Moving on from here, the main thing that should be done is testing of measuring tape antennas. There is currently not very much information out there that is available to DeMi concerning them, so research to determine the exact gain, beam width and radiation patterns should be conducted.


\newpage
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% AVIONICS

		\subsection{Avionics}
			\subsubsection{Requirements - VE}
The Avionics subsystem requirements are presented in Appendix~\ref{app:requirements}.  The main driving requirements are number 3 and 2 in the order of importance because they are the most challenging to satisfy with a current level of technology.

			\subsubsection{Trade Studies - VE}
We have two main options that are able to satisfy the requirements for Avionics subsystem. Both are shown in Table~\ref{table:avionics_hardware_options}

\begin{table}[ht]
\caption{Hardware Options}
\label{table:avionics_hardware_options}
\begin{center}
    \begin{tabular}{| c || p{6cm} | p{6cm} |} \hline
     &	Processing on-board & Raw images to the ground \\ \hline \hline
    Component Name & The Steepest Ascent Mission Interface Computer CS-MIC-G-EM & Single Board Computer Motherboard + PPM with TI MSP430F2618 \\ \hline
    Power Consumption & $0.5\ -\ 1.25$ W & $10$ mW \\ \hline
    Capabilities & Telemetry/Telecommand + Real time image processing on FPGA & Telemetry/Telecommand\\ \hline
    Storage Capacity & Up to 16 GB & Up to 2 GB \\ \hline
    Processors & TI MSP430  + Xilinx FPGA (model can be selected) & TI MSP430F2618 \\ \hline
    Interfaces & I2C, SPI, UART & I2C, SPI, UART \\ \hline
    Mass & $62$ g & $88\ -\ 114$ g \\ \hline 
    \end{tabular}
\end{center}
\end{table}

Since we have identified the Payload driven requirements as the most challenging, we have to start selection of appropriate hardware from that.

\begin{table}[ht]
\caption{Payload image capturing modes}
\label{table:avionics_modes}
\begin{center}
    \begin{tabular}{| c || c | c | c |} \hline
    	Mode & 640x480 px subframe &  640x480 px subframe & 1280x1024 px  full frame \\ \hline \hline
    Frame Rate & $100\ fps$ & $10\ fps$ & $10\ fps$ \\
    Data Rate & $310\ Mbit/s$ & $31\ Mbit/s$ & $131\ Mbit/s$ \\
    Duration & $30\ s$ & $300\ s$ & $60\ s$ \\
    Memory Required & $1.14\ GB$ & $1.14\ GB$ & $0.96\ GB$ \\ \hline 
    \end{tabular}
\end{center}
\end{table}

Let’s consider approach when we downlink all the data generated by the Payload without processing it. From Table~\ref{table:avionics_modes} we can see that Payload will be generating around $1\ GB$ of data every time it is run. For a given $1.5\ Mbit/s$ downlink speed in this case we will need $600\ s$ to downlink all the data captured or 10 ground accesses. Since we have only one ground access every three orbits in general this particular approach seems to be too ineffective in terms of Payload active time. 

That’s why we mainly consider the second approach when we do all necessary calculations onboard and send only results to the ground. It dramatically reduces the amount of transferred data to around $10\ -\ 100\ KB$ instead of gigabytes and enables to implement a closed loop deformable mirror control system.

After we have solved a problem with data storage we can focus on the core of every Avionics subsystem - its processor. Now we have higher but still reasonable requirements for processing power according to the computation tasks that it will be solving: 1. Centroid, delta x and delta y, slope reconstruction, and 2. Linear algebra for mirror controller.
The Steepest Ascent Mission Interface Computer CS-MIC-G-EM is a good fit for such tasks because it has an FPGA to be configured for image processing and a microcontroller for general tasks such as telemetry and ADCS computations.

\subsubsection{Decisions Made - VE}

We have made a decision to use CS-MIC-G-EM (Figure~\ref{fig:avionics_MIC}) mainly because it enables onboard image processing which reduces the amount of data we send to the ground and provides with a capability to build a closed loop deformable mirror control system.

\begin{figure}[ht]
\centering
  \includegraphics[width=4in]{images/avionics-MIC.jpg}
\caption{Mission Interface Computer CS-MIC-G-EM \cite{avionics_clyde_space}}
\label{fig:avionics_MIC}
\end{figure}

It is also capable of providing the following interfaces with other subsystems see Table~\ref{table:avionics_interfaces}.

\begin{table}[ht]
\caption{Avionics hardware interfaces with other subsystems (*assuming update 10 times per second).}
\label{table:avionics_interfaces}
\begin{center}
    \begin{tabular}{| c | c | c | c |} \hline
    	Subsytem & Component & Interface & Data rate \\ \hline \hline
    Payload & Detector (IDS UI-5241LE-M) & GbE & $550\ Mbit/s$ max  \\
     & Mirror driver (BMC Mini-Driver) & USB 2.0 & $480\ Mbit/s$ max \\
     & Laser (ThorLabs CPS 186) & GPIO & -- \\ \hline
    Power & EPS, PDM & 12C & $400\ Kbit/s$ max \\ \hline
    ADCS & 5 sun sensors & analog & $100\ bit/s$* \\
     & ADIS16305 IMU/Magnetometer & SPI & $160\ bit/s$* \\
     & Torque coils & 12C (via PDM) & -- \\ \hline
    Thermal & 14 Temperature Sensors & analog & $100\ bit/s$* \\
     & Thermal Heater & 12C (via PDM) & -- \\ \hline
    Communication & Cadet NanoSat UHF Radio & RS232 & $1.5\ Mbit/s$ \\ \hline 
    \end{tabular}
\end{center}
\end{table}

			\subsubsection{Analysis - VE}
The system architecture in general is shown in Figure~\ref{fig:avionics_architecture}. The Mission Interface Computer we have selected allows us to separate telemetry from image processing data. The first is processed on CPU while the latter is done on FPGA.

\begin{figure}[ht]
\centering
  \includegraphics[width=7in]{images/avionics-architecture.jpg}
\caption{Caption goes here...}
\label{fig:avionics_architecture}
\end{figure}

			\subsubsection{Summary of Outputs - ZC}
The Avionics system had very few outputs to the other subsystems. It had to give values to Thermal for operational temperature range for the computer which is $-25^\circ$C to $85^\circ$C. The survival temperature is unknown. It also had to give outputs to power for power consumed during the different modes, and to structures for the mass and volume. These outputs, or budgets are detailed in Table~\ref{table:avionics_summary_outputs}.

\begin{table}[ht]
\caption{This is a summary of the mass totals, power needs, and thermal needs of the avionics system.}
\label{table:avionics_summary_outputs}
\begin{center}
    \begin{tabular}{|c||c|} \hline
    	Output & Value \\ \hline \hline
    Power (Standby) & $0.5\ W$  \\
    Power (Data Capture) & $1.25\ W$ \\
    Power (Downlink/Uplink) & $0.5\ W$ \\
    Power (Safe Mode) & $0.5\ W$ \\
    Mass & $0.062\ kg$  \\
    Volume & $0.104\ U$ \\ \hline 
    \end{tabular}
\end{center}
\end{table}

			\subsubsection{Risks - ZC}
There are two risks that avionics faces currently. One risk which is a high consequence, but a very low likelihood is that the system will not be capable of processing all of the incoming data for payload. Payload is outputting a lot of data, and because the design of the code that will do the process has not yet been done, it is unclear how quickly Avionics will be able to process incoming data. The other risk that Avionics is currently faces, which is of very low likelihood, but very high consequence, is that it will not be capable of providing the required latency for Payload or for ADCS. Research needs to be conducted to determine how fast avionics can receive and issue orders to ensure that the computer is fast enough for the system. If it is not fast enough there could be major failures in the system because the attitude of the craft is not correct.

			\subsubsection{Future Work - ZC}
The future work that needs to be conducted is that there should be work done to determine a new solution to interfacing with Payload. The mirror driver interfaces with USB 2.0, however the computer is not able to interface with this. So work should be done into determining how to resolve this. One other thing that should be looked into is ensuring that the system can run all of the necessary calculations at the required speed so that all of the payload data can be processed and sent to the ground. If all of the data can’t be processed, it would be difficult to complete our science goals.

\newpage
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% ADCS

		\subsection{Attitude Determination and Control System (ADCS) - TN} 
		%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
			\subsubsection{Requirements}
		
				The two main driving requirements for the ADCS subsystems are the 			pointing requirement (15$^o$) for communication purpose and the stability requirement (0.08$^o$/s) for the payload operation while imaging an external source. Another requirement is the time for the satellite to detumble and establish ground station access before starting operation modes. This duration is required to be less than 30 days, creating a secondary requirement on the total detumbling time, which is dependent of the ADCS system. 
		%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%5
			\subsubsection{Trade Studies}
			Several control methods were considered in the design process of the ADCS system: passive magnetic control, passive magnetic control, and control using reaction wheels. The main trades to be considered are mass, power usage, pointing accuracy, and pointing stability capability. 

In passive magnetic control, restoring torque is generated through the alignment of the satellite magnetic moment with the local geomagnetic field. The magnetic moment is created through the use of permanent magnets. Hysteresis rods are used for vibration damping. This control option requires low mass and no power. Based on past CubeSat missions, the pointing accuracy of a passive magnetic control system in the same scale as DeMi can achieve 10 – 20 $^o$ [SMAD, cubesat survey], sufficient for communication requirement purpose. However, there are limitations in the ability to stabilize the satellite. Passive magnetic control systems stability performance is not reliable as the hysteresis rods do not provide fast and robust vibration damping. The expected stability achieved by this method is $1^o – 10 ^o$/s [cubesat survey]. Since the satellite will only have access to the external sources for a short amount of time, this method is not practical for capturing light from the stars. In addition, this control method limits the possible orientation of the satellite to only the direction along the local magnetic field. In a LEO orbit of 40$^o$ inclination such as that of DeMi’s, the direction of the local magnetic field varies at different orbital parameters, causing difficulties in placing antenna and external source aperture so that ground station access and external source capture can be guaranteed. 

Reaction wheels provide robust 3-axis stabilization control of the satellite. This control mechanism provides high accuracy ($~ 0.0001^o – 1^o$) in pointing direction and quick response in vibration damping providing high stability (0.05$^o$/s). However, the necessary sensors and actuators require high mass and power usage. The main mass contribution and power draw are from the reaction wheels. In addition, magnet torquers are also needed to desaturate reaction wheels, adding more mass and power strain on the system. This option is not practical for a small satellite such as DeMi. 

Active magnetic control was chosen for this mission due to the low mass and low power requirement and sufficient attitude control performance for both communication requirement and payload science operation. According to documentation on the attitude control system of the 1U CubeSat COMPASS-1 from the Univesity of Applied Sciences, Aachen, Germany, 3 magnetic coils of magnetic moment of  0.097 $A \cdot m^2$ can achieve a pointing accuracy of 8$^o$[reference]. The torque coils can be sized to generate enough torque for a 3U CubeSat. The details of this calculation will be presented in the decision made and analysis section. The stability of this control method is estimated to be $< 0.12^o$/s, according to the ION 2U CubeSat from the University of Illinois [ref.]. The implementation of the active magnetic control the ION mission only includes magnetometer as sensor with low magnetic moment in each torque coils. The performance of the active magnetic control method is expected to improve significantly with the use of more accurate sensors, such as an IMU and sun sensors, and torque coils with higher magnetic moment. More analysis and testing will be needed to determine the stability of the system. 
			\subsubsection{Decision Made}
				\paragraph{Orientation}
				The satellite will be in nadir pointing orientation with the nadir face being one of the two 10 cm x 10 cm faces. This orientation can be easily achieved by active magnetic control through sending control commands based on sensors readings to the active actuators. The 3U structure of the satellite provides gravity-gradient stability along the long axis in the nadir pointing configuration. By placing an antenna on the nadir face, this orientation facilitates access to the ground station. The satellite will travel with a corner-first configuration, to optimize the amount of power acquired from solar panels (see power section for more details). The orientation of the satellite is illustrated in Figure~\ref{fig:ADCS_orientation} below. 
			
			\begin{figure}[!h]
				\centering
				\includegraphics[scale=0.7]{images/ADCS_coord.png}
				\caption{Satellite orientation with respect to nadir direction and velocity vector}
				\label{fig:ADCS_orientation}
			\end{figure}
				
				\paragraph{ADCS sensors and actuators}
				A summary of the sensors and actuators used in the ADCS is presented in Table~\ref{tab:ADCS_sensors} below. 
			% Table generated by Excel2LaTeX from sheet 'Sheet1'
\begin{table}[htbp]
  \centering
  \caption{ADCS Sensors and Actuators}
    \begin{tabular}{|r|r|r|r|r|}
    \hline
    Sensors/Actuators & Quantity & Vendor & Performance &  \bigstrut\\
    \hline
    Sun sensors & 5     & CubeSat shop & \multicolumn{1}{r}{- Field of view: 114$^o$} &  \bigstrut[t]\\
          &       &       & \multicolumn{1}{r}{- Accuracy: $< 0.5^o$} &  \bigstrut[b]\\
    \hline
    Magnetometer & 1     & Analog Devices  & \multicolumn{1}{r}{- Dynamic range: ± 3.5 gauss} &  \bigstrut[t]\\
          &       & (ADIS16405) & \multicolumn{1}{r}{- Initial bias: ± 4 mgauss} &  \bigstrut[b]\\
    \hline
    IMU   & 1     & Analog Devices  & \multicolumn{1}{r}{- Dynamic range: ±300$^o$/s} &  \bigstrut[t]\\
          &       & (ADIS16405) & \multicolumn{1}{r}{- Initial bias: 3$^o$/s} &  \\
          &       &       & \multicolumn{1}{r}{- In-run bias stability: 0.007$^o$/s} &  \bigstrut[b]\\
    \hline
    Torque coils & 3     & N/A   & \multicolumn{1}{r}{- Max magnetic moment: 0.060, 0.063 $Am^2$} &  \bigstrut\\
    \hline
    \end{tabular}%
  \label{tab:ADCS_sensors}%
\end{table}%

			For attitude knowledge, a combination of sensors was chosen: sun sensors, magnetometers, and IMU.  The sun sensors are low mass and low power attitude sensors that provides accurate sun angle during day time, providing the orientation of the satellite relative to an inertial frame. 5 sun sensors will be places on the faces of the satellite other than the nadir face. This sensor, from CubeSat shop provides an accuracy of $< 0.5^o$ and a wide field of view of 114$^o$. The magnetometer will be used to measure the local geomagnetic field to compute the magnetic moment needed to generate needed restoring torques. In addition, the magnetometer will be used as the main attitude sensing device during eclipse periods. An IMU is used to measure the angular rate of the satellite to provide more accurate vibration knowledge to yield a robust vibration damping control loop. The IMU and magnetometer are in the same sensor unit from Analog devices. Both sensors have initial biases that can be corrected through computation. 

For actuation, 3 custom-made orthogonal torque coils will be used for 3-axis stabilization control. The coils will be sized so to meet the mass and power constraint of the satellite and to provide sufficient magnetic moment to counter environmental disturbances. More detailed calculation will be presented in the analysis section. The specifications of the torque coils are presented in Table~\ref{tab:ADCS_torquecoils} below.
			% Table generated by Excel2LaTeX from sheet 'Sheet2'
\begin{table}[htbp]
  \centering
  \caption{Torque coils specifications}
    \begin{tabular}{|r|r|r|}
    \hline
    Direction & Z     & X, Y \bigstrut\\
    \hline
    Size  & 10 cm × 10 cm  & 10 cm x 30 cm \bigstrut\\
    \hline
    Quantity & 1     & 2 \bigstrut\\
    \hline
    Turns & 500   & 300 \bigstrut\\
    \hline
    Current & 0.12 A & 0.07A \bigstrut\\
    \hline
    Wire Gauge & 28 AWG & 28 AWG \bigstrut\\
    \hline
    Magnetic moment & 0.60 $Am^2$ & 0.63 $Am^2$ \bigstrut\\
    \hline
    \end{tabular}%
  \label{tab:ADCS_torquecoils}%
\end{table}%
				\paragraph{System Schematics and Interfaces}
				The system schematics are shown in Figure~\ref{fig:ADCS_schem}. The IMU/magnetometer unit, which will be mounted on an interface board, and the sun sensors will be read out through the analog channels of the power distribution module. The module will be used as an interface to the avionics subsystem. The attitude knowledge data will be processed in the avionics subsystem. Combining with the local magnetic field, the magnetic moment vector needed for the torque coils can be computed. This information will be sent to the torque coils through the Power Distribution Module (PDM), into the torque coil driver, which consist of a current driver and an H-bridge, which controls the current in each coils and their directions. 
			
			\begin{figure}[!ht]
				\centering
				\includegraphics[scale=0.5]{images/ADCS_schem.png}
				\caption{ADCS components interactions and Avionics interface}
				\label{fig:ADCS_schem}
			\end{figure}
			
			\subsubsection{Analysis}
				\paragraph{Environmental Torque Calculation}
				The main environmental disturbances on orbit are gravity gradient, magnetic field, aerodynamics drag, and solar radiation pressure. The governing equations of these external sources are presented in details in SMAD ADCS section. Using the satellite properties, these values can be computed and presented in Table~\ref{tab:ADCS_envtorque}. 
				
				% Table generated by Excel2LaTeX from sheet 'Sheet3'
\begin{table}[htbp!]
  \centering
  \caption{Maximum Environmental Torque Estimation}
    \begin{tabular}{|r|r|}
    \hline
    Gravity Gradient & 1.60E-08 Nm \bigstrut\\
    \hline
    Magnetic Field & 1.80E-05 Nm \bigstrut\\
    \hline
    Atmospheric Drag & 2.70E-07 Nm \bigstrut\\
    \hline
    Solar Pressure & 5.50E-09 Nm \bigstrut\\
    \hline
    Total Torque & 1.80E-05 Nm \bigstrut\\
    \hline
    \end{tabular}%
  \label{tab:ADCS_envtorque}%
\end{table}%

			\paragraph{Torque coil sizing calculation}
			Magnetic control relies on the torque provided by the aligning of the satellite magnetic moment and the local magnetic field. Equation~\ref{eqn:ADCS_torque} shows the governing equation of magnetic control, where $\vec{T}$ represent the generated torque vector, $\vec{\mu}$ is the satellite magnetic moment, $\vec{B}$ is the local geomagnetic field vector. 
			
			\begin{equation}
				\vec{T} = \vec{\mu} \times \vec{B}
				\label{eqn:ADCS_torque}
			\end{equation}
			
			Taking the torque vector to be the total environmental torque, Equation~\ref{eqn:ADCS_torque} above yields the required maximum magnetic moment of the coils to be $~ 0.6 Am^2$. Since the area of each coil is chosen to be the same as the size of each of the face of the satellite, the main trade of the design is the number of turns and current in each coil. This corresponds to a mass/power trade. The results of the torque coil sizing are presented above in Table~\ref{tab:ADCS_torquecoils} in Decision Made section. 
			
			\paragraph{Detumbling Analysis}
				Using Princeton Satellite Systems MATLAB simulation, the momentum unloading as a response to an initial angular rate can be computed. The input parameters are the magnitude and direction of initial angular momentum, the direction of magnetic moment, and the gain of the control loop. The initial momentum was calculated by assuming an initial angular rate. The magnetic moment direction is the direction of the torque coils. The control gain is adjusted so that the maximum magnetic moments along all 3 axes are less than the maximum magnetic moments provided by the torque coils. The detumbling time can be calculated through determining the time where the momentum in all direction is less than an arbitrary low threshold. 

The simulation was run with an initial angular rate of 10$^o$/s, magnetic moment along x, y, z and a control gain of $k =0.008$. The angular momenta and magnetic moments are presented in Figure~\ref{fig:ADCS_detumbling}.
			
			\begin{figure}[!ht]
				\centering
				\includegraphics[scale=0.8]{images/ADCS_detumbling.eps}
				\caption{Momentum and magnetic moment during detumbling period}
				\label{fig:ADCS_detumbling}
			\end{figure}

			The maximum magnetic moment needed in x, y, z are 0.6092 $Am^2$ , 0.6052 $Am^2$, 0.0938 $Am^2$, respectively, which is within the range of magnetic moment the torque coils can provide. The total detumbling time is less than 1 orbit (90 minutes). 
			
			\paragraph{Ground Access Duration}
			The duration of access to ground station was computed using an STK model. The orbit was set to a LEO orbit of 500 km altitude and an inclination of 40$^o$. The satellite configuration is set to be in nadir pointing with a possible offset of 8$^o$. The design of the antenna is a monopole antenna of 16 cm in length. The ground station is set to NASA Wallops flight facility UHF parabolic dish of 18 m diameter. A screen shot of the STK model is presented in Figure~\ref{fig:ADCS_STK}. 
			
			\begin{figure}[!ht]
				\centering
				\includegraphics[scale=0.8]{images/ADCS_STK.png}
				\caption{Ground access STK model}
				\label{fig:ADCS_STK}
			\end{figure}
			
			The simulation is run over the course of a day. There are a total of 5 access opportunities of about 9 minutes each. The total ground station access time per day is about 45 minutes. The exact access duration varies with each orbit. 
		
			\subsubsection{Summary of Budgets}
			
			The mass, power, and volume budgets of the ADCS system are presented in Table~\ref{tab:ADCS_budget}
		% Table generated by Excel2LaTeX from sheet 'Sheet4'
\begin{table}[htbp]
  \centering
  \caption{ADCS budgets}
    \begin{tabular}{|r|r|r|r|}
    \hline
    \textbf{Component} & \textbf{Volume} & \textbf{Mass} & \textbf{Power} \bigstrut\\
    \hline
    IMU/Magnetometer & 4.49 $cm^3$ & 0.016 kg & 0.21 W \bigstrut\\
    \hline
    Sun sensors & 6.530 $cm^3$ & 0.02 kg & 0.25 W \bigstrut\\
    \hline
    Torque coils & 58.32 $cm^3$ & 0.52 kg & 1.35 W \bigstrut\\
    \hline
    Interface board & 248.0 $cm^3$ & 0.17 kg & -- \bigstrut\\
    \hline
    \multicolumn{1}{r}{} & \multicolumn{1}{r}{} & \multicolumn{1}{r}{} & \multicolumn{1}{r}{} \bigstrut\\
    \hline
    Total ADCS system (with margin) & 318 $cm^3$ (0.318 U) & 0.73 kg & 1.81 W \bigstrut\\
    \hline
    \end{tabular}%
  \label{tab:ADCS_budget}%
\end{table}%


			\subsubsection{Risks}
			The main design risk in the ADCS system is the pointing stability requirement and the mass and power budget. As previously mentioned, the stability of the satellite will need to be < 0.08$^o$/s for payload science operation of capturing light from a star. The sensors and actuators are expected to provide this performance based on the survey of past CubeSat missions. However, more analysis through simulation and testing will need to be implemented to determine the exact performance of the system. The second risk is due to the narrow margin on the power budget of the whole system. To compensate for this, the mass of the torque coils is higher than previously expected. More iterations will be needed to determine the optimal power consumption and mass of the torque coils. 
			\subsubsection{Future Work}
			The main future work of the ADCS system is to simulate the flight condition through with external disturbance torques at each position on orbit. The next step would be to create a control loop that takes these environmental torques as inputs to compute the needed magnetic moment of each of the 3 torque coils. 

\newpage
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% THERMAL

		\subsection{Thermal - David}
		
\subsubsection{Requirements}

The requirements of the thermal subsystem were as follows:

\begin{itemize}
	\item THM1: The thermal subsystem shall ensure that all components are kept within their survival
temperature ranges for the duration of the mission.
\item THM2: The thermal subsystem shall ensure that all operating components are kept within their
operating temperature ranges.
\item THM3: Monitor the temperatures of all key components.
\end{itemize}


\subsubsection{Analysis/Results}

The analysis of the thermal environment of the satellite took into consideration the radiation fluxes from the sun and earth (albedo and infrared) on all six faces of the cubeSat as shown in Figure~\ref{fig:thermal-environment}. For each face, an energy balance was carried out and the average energy over all faces used to determine the average temperature of the satellite. The energy balance equations were are as follows:

\begin{equation}
Q_{in} + Q_{internal} = Q_{out} \rightarrow [\alpha(S + S_A) + \epsilon S_{IR}] A + Q_{internal} = A_S \epsilon \sigma T^4
\label{eq:thermal-balance}
\end{equation}		

Values for radiation flux over the course of an orbit were taken from the new SMAD, the main text for this course. Temperatures were calculated for two extremes, cold case, $\beta = 0$; hot case, $\beta =45$, where $\beta$ is the angle subtended by the orbit relative to the sun. 

\begin{figure}[ht]%
\centering
\includegraphics{images/thermal-environment}%
\caption{Thermal environment of satellite considered in analysis.}%
\label{fig:thermal-environment}%
\end{figure}

The operating and survival temperatures of other subsystems are shown in Table~\ref{table:thermal-inputs}. These figures were used to determine the desired temperature range of the satellite during each mode of operation. The results of the analysis are shown in Table~\ref{table:thermal-results}. These show that during the cold case, the satellite will experience temperatures below the operation and survival temperatures of the payload during data-capture and other modes respectively.

\begin{table}[ht]%
\caption{Operating and survival temperatures of different subsystems and components.}
\label{table:thermal-inputs}
\begin{tabular}{|p{1.5in}|l|l|}\hline
\textbf{Equipment} & \textbf{Operating Temperature ($^\circ$C)} & \textbf{Survival Temperature ($^\circ$C)} \\\hline
\textbf{Payload} & 0 to 35 & -10 to 70 \\\hline
\textbf{ADCS} & -20 to 40 & -20 to 40 \\\hline
\textbf{Avionics} & -25 to 85 & -25 to 85\\\hline
\textbf{Batteries (have internal heaters)} & 0 to 50 & -10 to 50\\\hline
\textbf{Solar Arrays} & -40 to 80  & -50 to 100 \\\hline
\textbf{Communications} & -20 to 70 & -40 to 80 \\\hline
\end{tabular}
\end{table}

\begin{table}[ht]%
\caption{Results of the thermal analysis for hot and cold cases.}
\label{table:thermal-results}
\begin{tabular}{|l|r|r|r|r|r|}\hline
\textbf{Mode} & \textbf{Data Capture} & \textbf{Standby} & \textbf{Uplink} & \textbf{Downlink} & \textbf{Safe} \\\hline
\textbf{Operating temp. ($^\circ$C)} & 0 to 35 & -10 to 40 & -10 to 40 & -10 to 40 & -10 to 40 \\\hline
\textbf{Temp. Cold case ($^\circ$C)} & -3.68 & -13.40 & -13.40 & 5.79 & -15.72 \\\hline
\textbf{Temp. Hot case ($^\circ$C)} & 21.99 & 14.72 & 14.72 & 29.31 & 13.02 \\\hline
\end{tabular}
\end{table}

\subsubsection{Trade Studies}

Based on the results of the thermal analysis, the need to augment the thermal control was evident. Amongst the myriad of possible options, the inclusion of a heater, multi-layer insulation (MLI aka thermal blanket), and surface coating stood out as more feasible for a cubeSat mission given the limited mass, volume, and power available. Since the payload’s detector was the main component whose temperature needed to be kept above the average satellite temperature for most modes of operation, a decision needed to be made on whether  a heater or thermal blanket would be used as the primary thermal control for the payload.

The heater being considered was a model HK5586 polyimide thermofoil heater from Minco (see Figure~\ref{fig:thermal-heater}). It takes up an area of 4.50 cm x 2.54 cm, operates within -200 to 200 $^\circ$C, and with an input voltage of 3.3V, would require a maximum wattage of 0.83 W. 

\begin{figure}[ht]%
\centering
\includegraphics{images/thermal-heater}%
\caption{Thermofoil heater and payload detector.}%
\label{fig:thermal-heater}%
\end{figure}

Computing the heat exchange between the heater and the detector, we obtained values for the average power required by the heater to keep the detector above 0 °C during data capture mode, and above -10°C during other modes. The equation used:

\begin{equation}
P_{req} = \frac{\text{Energy transferred}}{\text{Time}} = \frac{m_{sat} Cp_{sat} (T_{min} - T_{sat})}{\text{Time}}
\label{eq:thermal-power-required}
\end{equation}

Where a maximum of ten seconds is allowed for the detector to attain desired temperatures, and $T_{min}$ corresponds to the minimum operational and survival temperature during data capture and other modes respectively. The results are shown in Figure~\ref{fig:thermal-power-usage}. Excepting downlink mode, the heater will require power ranging from 0.44 to 0.75W, which is a significant percentage of the average power available to the entire satellite.

\begin{figure}[ht]%
\centering
%\includegraphics{images/thermal-power-usage}%
\caption{Power usage by heater during different modes of operation.}%
\label{fig:thermal-power-usage}%
\end{figure}

For the thermal blanket option, we considered aluminized 25 gauge polyester with nylon scrim from Dunmore. Some of the advantages of this option are that it does not require power, and its mass requirement is significantly low.

In order to determine the amount of insulation needed, a lumped parameter model for the thermal diffusion through the thermal blanket was used. Temperature of the inner face of the MLI is given by

\begin{equation}
T = T_\infty + (T_i- T_\infty)e^{-t/\tau}, \tau = m \times Cp \times R_{ext}
\label{eq:thermal-inner-MLI}
\end{equation}

Where $\tau$ is the time constant for temperature decay, $R_{ext}$ is the thermal resistance to external heat flux, and $T_i$ and $T_\infty$ are the initial temperature of the inner face and average temperature of the satellite respectively. In order to achieve a time constant of approximately the duration of eclipse, two layers of insulation will be required. The results are shown in Figure~\ref{fig:thermal-decay}.

\begin{figure}[ht]%
\centering
%\includegraphics{images/thermal-decay}%
\caption{Temperature decay of inner face of MLI for different modes of operation.}%
\label{fig:thermal-decay}%
\end{figure}

\subsubsection{Design/Budget}

Given the results of the aforementioned analysis, the thermal blanket was chosen for primary thermal control. Initially, the thermal subsystem chose dispense with idea of a payload heater, and use solely the MLI for thermal control, but after further discussion with other subsystems, it was agreed upon to still have the heater installed. The rationale behind this decision was that in the event that the average satellite temperature falls below the predicted value, the heater would be used to augment the action of the thermal blanket.
 
Thus, the design will include a double layer thermal blanket surrounding the payload, aluminized 25 gauge polyester with nylon scrim taking up approximately 1g and 0.8cm$^3$ of mass and volume respectively. In addition, the heater will be attached to the detector within the thermal blanket as shown in Figure~\ref{fig:thermal-heater}.

Furthermore, in order to fully meet the third requirement of the subsystem, the temperatures of key components of other subsystems will be monitored via thermal sensors.  These components are listed in Table~\ref{table:thermal-sensors} below.

\begin{table}[ht]%
\centering
\caption{Key components and their corresponding number of thermal sensors required.}
\label{table:thermal-sensors}
\begin{tabular}{|l|r|}\hline
\textbf{KEY COMPONENTS} & \textbf{Sensors needed} \\\hline
Sun sensors & 5 \\\hline
Torque coils & 3 \\\hline
ADCS interface board & 1 \\\hline
DMs + Driver & 1 \\\hline
Detector & 1 \\\hline
Laser & 1 \\\hline
Electronic Power System & 1 \\\hline
Power Distribution Module & 1 \\\hline
\textbf{Total} & \textbf{14} \\\hline
\end{tabular}
\end{table}

The thermal sensors chosen are model 44004 precision thermistor elements from Omega, each of volume 0.04cm3 and mass 0.4g. Fourteen in all, they will each draw power of about 0.5 μW and operate within a temperature range of -80 to 120 °C. As shown in Figure~\ref{fig:thermal-thermistor} they consists of a bead and a tail; the bead will be attached to the surface of the component whose temperature is being measured, and the tail goes to the avionics board.

\begin{figure}[ht]%
\centering
%\includegraphics{images/thermal-thermistor}%
\caption{Precision Thermistor elements – model 44004 (Omega.com).}%
\label{fig:thermal-thermistor}%
\end{figure}

In addition, the zenith and nadir faces will be painted with Chemglaze Z306 ( $\alpha= 0.98, \epsilon = 0.89$) in order to improve their absorptivity-emissivity ratio from 0.9 to 1.1.

In summary, the mass, volume, and power budget will be as shown in Table~\ref{table:thermal-outputs}

\begin{table}[ht]%
\centering
\caption{Outputs (mass, power consumed, volume) to other subsystems.}
\label{table:thermal-outputs}
\begin{tabular}{|l|l|l|l|}\hline
& Mass (kg) & Power (W) & Volume (U) \\\hline
Thermistors & & & \\\hline
MLI & & & \\\hline
Heater & & & \\\hline
Surface coating & & & N/A \\\hline

\end{tabular}
\end{table}


\newpage
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% STRUCTURES

		\subsection{Structures}

(See separate document.)

\section{Conclusion - AW}
In this report, it has been shown that a low-cost, quick-access mission can be carried out on a 3U CubeSat platform in order to demonstrate MEMS deformable mirror technology on-orbit.  Continued iterations of the system design based on the current system risks and outlined in the section on future work need to be carried out in order to optimize the design.

		\subsection{Risk Summary}
Although at this stage in the design the DeMi demonstration system supports a functional, on-orbit test of the deformable mirror technology, the mission is still confronted with a number of risks.  Due to the fact that there is only a $9\%$ margin instead of an $18\%$ margin between the power required and the power that can be supplied to the system, there is a high consequence, medium likelihood risk (PO1) that there will not be enough power to supply the system in order to carry out the mission.

There is also a risk (S1) that the center of mass of the structure could move out of range.  With the current design, the center of mass is within range.  However, there still exists the possibility that masses and positions of the parts may change, the center of mass could potentially move out of range.  This risk is low likelihood but high consequence.

Two risks exist regarding the avionics subsystem.  The first, a low likelihood, high consequence risk (AV1), is that the avionics subsystem will not be capable of processing all of the incoming data.  The second (AV2), regards the avionics system not being capable of providing the required latency for the payload and ADCS subsystems. 

\begin{figure}[ht]
\centering
\includegraphics[width=3in]{images/conclusion_1.png}
\caption{Systems level risk chart.}
\label{fig:risk_chart}
\end{figure}

Additionally, there is a low consequence, low likelihood risk (AD1) that ADCS will exceed the system mass budget.  Since a trade between mass and power was made in the design of the torque coils, both the mass and power budgets of the system are tight.  Additionally, the system components and design still have the potential to change in this stage of the design.  Therefore, if the torque coil design needs to change in order to reduce the power draw of the system, the mass might increase to above the maximum set by the CubeSat regulations.  However, this is a low consequence, low likelihood risk since currently the system mass is under the maximum for a 3U CubeSat with over a $30\%$ margin.

		\subsection{Future Work}

More iterations in the design process need to be carried out before the design can be completed.  Future work for the DeMi demonstration includes creating more detailed models of the temperature dependence of battery and solar panel performance and the temperature gradient across the satellite in order to more accurately calculate the power that can be supplied to the system and to determine whether the proposed heating design will be effective.  Additionally, as the design continues to mature, the structural model will need to continue to be updated with new parts and part positions.  It also needs to be verified that the structure and components will survive the launch environment. In addition, further research needs to be conducted on the construction and use of the measuring tape antenna.  More research and analysis needs to be carried out regarding the interface with payload and it must be confirmed that the avionics system can process all information at the required speed.  Finally, ADCS needs to create more accurate models of external disturbances and an attitude control loop.

In this paper it has been shown that a low-cost, quick-access mission can be carried out on a 3U CubeSat platform in order to demonstrate MEMS deformable mirror technology on-orbit.  Continued iterations of the system design based on the current system risks and outlined in the section on future work need to be carried out in order to optimize the design.

	

		
		%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newpage

\section{Acknowledgment}
	
	
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% APPENDICES

\newpage
\appendix
\section{Requirements} \label{app:requirements}

\includepdf[pages={-}]{images/Requirements.pdf}


\newpage
\section{Link Budgets} \label{app:link_budgets}

\begin{figure}[ht]
\centering 
\caption{Uplink Budget}
\includegraphics[width=6.5in]{images/comm-uplink-budget}
\end{figure}

\newpage
\noindent
\newline

\begin{figure}[ht]
\centering 
\caption{Downlink Budget}
\includegraphics[width=6.5in]{images/comm-downlink-budget}
\end{figure}

\noindent
\newline
\newpage


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% REFERENCES
\begin{thebibliography}{9}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% REFERENCES


%%% PAYLOAD

\bibitem{FGadaptiveoptics}
   Tyson, Robert K. and Benjamin W. Frazier. 
   \emph{Field Guide to Adaptive Optics}. Bellingham, WA: SPIE Press,
   2012.  Internet resource.

\bibitem{gerchberg}
   Kay J., Kasdin, N. J., Belikov, R.
   \emph{Wavefront correction in a shaped-pupil coronagraph using a Gerchberg-Saxton-based estimation scheme}, Astronomical Adaptive Optics Systems and Applications III, Vol. 6691, SPIE Proceedings, Washington, D.C., 2007.

\bibitem{cahoy2013}
   Cahoy, K. L., A. Marinan, B. Novak, C. Kerr, M. Webber. 
   \emph{Wavefront control in space with MEMS deformable mirrors},
   Photonics West, MEMS Adaptive Optics VII, Vol. 8617, SPIE,
   Washington, D.C., 2013.

\bibitem{radiation_optics}
   Nicoletta, C. A. and A. G. Eubanks.
   \emph{Effect of Simulated Space Radiation On Selected Optical
     Materials}. Washington, D.C.: National Aeronautics and Space
   Administration, 1972.

\bibitem{traeger}
   Traeger, F., \emph{Springer Handbook of Lasers and Optics}. New
   York: Springer, 2007.

\bibitem{demtroeder}
   Demtroeder, W.
   \emph{Laser Spectroscopy: Basic Concepts and Instrumentation}, 3rd
   ed. Berlin: Spring-Verlag, 2003.

\bibitem{newport_nanopositioner}
   NPX NanoPositioning Linear Stages, Newport Corporation,
   URL \url{http://www.newport.com/NPX-Series-NanoPositioning-Linear-Stages/843084/1033/info.aspx}
   (visited May 10, 2013).

\bibitem{centroids}
Thomas, S., et al. "Comparison of centroid computation algorithms in a Shack-Hartmann sensor". \emph{Monthly Notices of the Royal Astronomical Society}, MN-06-0231-MJ.R1, 2006.

\bibitem{ctio_AO}
   Tokovinin, A., (May 28, 2001). ``Adaptive optics tutorial at CTIO'' URL
   \url{http://www.ctio.noao.edu/~atokovin/tutorial/part3/wfs.html}, 
   (visited 10 May 2013).

\bibitem{MLA150}
   MLA150-5C, ThorLabs Inc.,
   URL \url{http://thorlabs.com/thorProduct.cfm?partNumber=MLA150-5C}
   (visited 5 May 2013).

\bibitem{BMC}
Boston Micromachines Corporation, <http://www.bostonmicromachines.com/light-modulator.htm> (accessed 5 May 2013).

\bibitem{zemax}
   ZEMAX, Software Package, Ver. 13, Radiant Zemax LLC, Redmond, WA, 2013.



\bibitem{correia2010}
  Correia, C., H.-F. Raynaud, C. Kulcsar, J.-M. Conan, "On the optimal reconstruction and control of adaptive optical systems with mirror dynamics," JOSA A, 27(2), 333-349, doi:10.1364/JOSAA.27.000333 (2010).

\bibitem {greivenkamp}
   Greivenkamp, John E. 
   \emph{Field Guide to Geometrical Optics}, Bellingham, WA: SPIE, 2004. Print.


%%% POWER

\bibitem{CS-image}
Image from Clyde Space.  URL \url{http://www.clyde-space.com/cubesat_shop/solar_panels_-_deployable}, (visited May 05, 2013).

\bibitem{libertad-1} (2012).  ``CubeSat Kit -- In Space.''  URL \url{http://www.cubesatkit.com/content/space.html}, (visited May 05, 2013).

\bibitem{EPS-manual} Strain, A, (February 14, 2011).  ``User Manual: CubeSat 3U Electronic Power System.'' URL \url{http://www.clyde-space.com/documents/2471}, (visited May 05, 2013).

\bibitem{PDM-manual} Worrall, K, (March 14, 2011).  ``CubeSat Power Distribution Module User Manual.'' URL \url{http://www.clyde-space.com/documents/2560}, (visited May 05, 2013).

\bibitem{Battery-manual} McLaren, V, (April 28 2010).  ``User Manual: Standalone 30Wh Battery.''  URL \url{http://www.clyde-space.com/documents/1902}, (visited May 05, 2013).

\bibitem{Solar-panel-datasheet} (March 16 2012). ``CubeSat Solar Panels.''  URL \url{http://www.clyde-space.com/documents/2625}, (visited May 05, 2013).

%%% COMMUNICATIONS

\bibitem{ITU-R}
``ITU-R P.676-9'', URL \url{http://www.itu.int/dms_pubrec/itu-r/rec/p/R-REC-P.676-9-201202-I!!PDF-E.pdf}, (visited April 2013).

\bibitem{pozar}
Pozar, David M., \emph{Microwave and RF Design of Wireless Systems}, Wiley, New York City, NY, 2001.


%%% AVIONICS

\bibitem{avionics_clyde_space}
Clyde Space. CubeSat Shop. [Online]. \url{http://www.clyde-space.com/cubesat_shop/obdh/364_mission-interface-computer-grande-em}, visited May 5, 2013. 

%%% ADCS

%%% THERMAL

%%% STRUCTURES

%%% TO BE SORTED

%\bibitem{kim00}
   %Kim. (2000).
  %\emph{\ Simulation Study of A Low-Low Satellite-to-Satellite Tracking Mission}. (Doctoral dissertation)
  %The University of Texas at Austin, TX.



\bibitem{SMAD}
Wertz, James, \emph{Space Mission Engineering: The New SMAD}, Microcosm Press, Hawthorne, CA, 2011.


\end{thebibliography}

\end{document}


